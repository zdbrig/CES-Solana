this modification is done on Fedia fork
